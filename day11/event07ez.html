<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>체크박스 동의</title>
</head>
<body>
    <form action="" name="myForm">
        <div>
            <label>전체 동의
                <input type="checkbox" name="all">
            </label>
        </div>
        <div>
            <label>서비스 이용약관 동의
                <input type="checkbox" name="term">
            </label>
        </div>
        <div>
            <label>광고 수신 동의
                <input type="checkbox" name="term">
            </label>
        </div>
        <div>
            <label>개인 정보 이용약관 동의
                <input type="checkbox" name="term">
            </label>
        </div>
    </form>
</body>
<script>
    // 전체 동의를 완성하라! 😎
    // 30분
    const checkboxs = document.querySelectorAll("input[type='checkbox']");
    // console.log(checkboxs) // checkboxs 는 NodeList(4) [input, input, input, input]
    const all = document.getElementsByName("all");
    const terms = document.getElementsByName("term");
    // console.log(all)
    // console.log(terms)
    all.forEach((checkbox)=>{
        checkbox.addEventListener("click",(e)=>{
            if(e.target.checked){
                terms.forEach((term)=>{
                    term.checked = true
                })                
            }else {
                terms.forEach((term)=>{
                    term.checked = false
                })
            } 
        })
    })
    let result = true;
    terms.forEach((checkbox)=>{
        checkbox.addEventListener("click",(e)=>{
            result = e.target.checked && result;
        })
        console.log(result);
        all.checked = result;
    })
    // terms.forEach((checkbox)=>{
    //     checkbox.addEventListener("click",(e)=>{
    //         if(!e.target.checked){
    //             all.checked = false;
    //         } 
    //     })
    // })

</script>
</html>